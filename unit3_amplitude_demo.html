<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>振幅 (Amplitude) 教學示範</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        .wave-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #e9ecef;
        }
        
        canvas {
            width: 100%;
            height: 300px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: #ffffff;
        }
        
        .controls {
            margin: 20px 0;
            padding: 20px;
            background: #e8f4f8;
            border-radius: 10px;
            border-left: 5px solid #3498db;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        label {
            font-weight: bold;
            margin-right: 15px;
            color: #2c3e50;
            min-width: 120px;
        }
        
        input[type="range"] {
            flex: 1;
            margin: 0 15px;
            min-width: 200px;
        }
        
        .value-display {
            background: #3498db;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }
        
        .info-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            border-left: 5px solid #f39c12;
        }
        
        .concept-explanation {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #28a745;
        }
        
        .measurement-box {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            border-left: 5px solid #dc3545;
            text-align: center;
            font-size: 1.2em;
        }
        
        .grid-line {
            stroke: #e0e0e0;
            stroke-width: 1;
        }
        
        .axis-line {
            stroke: #666;
            stroke-width: 2;
        }
        
        .wave-line {
            stroke: #e74c3c;
            stroke-width: 3;
            fill: none;
        }
        
        .amplitude-line {
            stroke: #27ae60;
            stroke-width: 2;
            stroke-dasharray: 5,5;
        }
        
        .amplitude-arrow {
            stroke: #27ae60;
            stroke-width: 2;
            fill: #27ae60;
        }
        
        .label-text {
            fill: #2c3e50;
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            font-size: 14px;
            font-weight: bold;
        }
        
        .amplitude-text {
            fill: #27ae60;
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            font-size: 16px;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .control-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            label {
                margin-bottom: 10px;
                min-width: auto;
            }
            
            input[type="range"] {
                margin: 10px 0;
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🌊 振幅 (Amplitude) 教學示範</h1>
        
        <div class="concept-explanation">
            <h2>📚 什麼是振幅？</h2>
            <p><strong>振幅</strong>是信號偏離平衡位置（零線）的最大距離，代表信號的強度。</p>
            <p>想像一下：</p>
            <ul>
                <li>🔊 <strong>聲音</strong>：音量越大，聲波振幅越大</li>
                <li>💡 <strong>光線</strong>：燈光越亮，光波振幅越大</li>
                <li>⚡ <strong>電信號</strong>：電壓越高，電波振幅越大</li>
            </ul>
        </div>
        
        <div class="wave-container">
            <h3>📊 互動式波形圖</h3>
            <canvas id="waveCanvas" width="800" height="300"></canvas>
        </div>
        
        <div class="controls">
            <h3>🎛️ 調整參數</h3>
            <div class="control-group">
                <label>振幅 (Amplitude):</label>
                <input type="range" id="amplitudeSlider" min="10" max="120" value="60" step="5">
                <span class="value-display" id="amplitudeValue">60V</span>
            </div>
            <div class="control-group">
                <label>頻率 (Frequency):</label>
                <input type="range" id="frequencySlider" min="0.5" max="3" value="1" step="0.1">
                <span class="value-display" id="frequencyValue">1.0 Hz</span>
            </div>
            <div class="control-group">
                <label>波形動畫:</label>
                <button id="animationToggle" style="padding: 10px 20px; font-size: 16px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; font-family: 'Microsoft JhengHei';">⏸️ 暫停</button>
            </div>
        </div>
        
        <div class="measurement-box">
            <strong>目前振幅測量值：<span id="currentAmplitude">60</span> 伏特 (V)</strong>
        </div>
        
        <div class="info-box">
            <h3>📏 如何測量振幅？</h3>
            <p><strong>振幅 = 波峰到零線的距離</strong></p>
            <p>在上圖中，綠色虛線顯示振幅的測量方式：</p>
            <ul>
                <li>從中心線（0V）到波峰的垂直距離</li>
                <li>或從中心線（0V）到波谷的垂直距離</li>
                <li>兩者絕對值相等</li>
            </ul>
        </div>
        
        <div class="concept-explanation">
            <h3>💡 振幅的重要性</h3>
            <p><strong>在電子工程中，振幅代表：</strong></p>
            <ul>
                <li>⚡ <strong>功率大小</strong>：振幅越大，功率越大</li>
                <li>📡 <strong>信號強度</strong>：影響傳輸距離和品質</li>
                <li>🔧 <strong>系統設計</strong>：決定元件的耐壓要求</li>
                <li>📊 <strong>調變技術</strong>：AM調幅就是改變振幅來傳送資訊</li>
            </ul>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('waveCanvas');
        const ctx = canvas.getContext('2d');
        const amplitudeSlider = document.getElementById('amplitudeSlider');
        const frequencySlider = document.getElementById('frequencySlider');
        const amplitudeValue = document.getElementById('amplitudeValue');
        const frequencyValue = document.getElementById('frequencyValue');
        const currentAmplitude = document.getElementById('currentAmplitude');
        const animationToggle = document.getElementById('animationToggle');
        
        let animationFrame;
        let time = 0;
        let isAnimating = true;
        
        function drawWave() {
            // 清除畫布
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const amplitude = parseFloat(amplitudeSlider.value);
            const frequency = parseFloat(frequencySlider.value);
            const centerY = canvas.height / 2;
            const maxAmplitude = 120;
            const leftMargin = 60;
            const bottomMargin = 30;
            
            // 繪製網格線
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            
            // 水平網格線
            for (let y = 20; y <= canvas.height - bottomMargin; y += 30) {
                ctx.beginPath();
                ctx.moveTo(leftMargin, y);
                ctx.lineTo(canvas.width - 20, y);
                ctx.stroke();
            }
            
            // 垂直網格線
            for (let x = leftMargin; x <= canvas.width - 20; x += 60) {
                ctx.beginPath();
                ctx.moveTo(x, 20);
                ctx.lineTo(x, canvas.height - bottomMargin);
                ctx.stroke();
            }
            
            // 繪製主軸線
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            
            // X軸（時間軸）
            ctx.beginPath();
            ctx.moveTo(leftMargin, canvas.height - bottomMargin);
            ctx.lineTo(canvas.width - 20, canvas.height - bottomMargin);
            ctx.stroke();
            
            // Y軸（電壓軸）
            ctx.beginPath();
            ctx.moveTo(leftMargin, 20);
            ctx.lineTo(leftMargin, canvas.height - bottomMargin);
            ctx.stroke();
            
            // 繪製中心線（0V線）
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 1;
            ctx.setLineDash([3, 3]);
            ctx.beginPath();
            ctx.moveTo(leftMargin, centerY);
            ctx.lineTo(canvas.width - 20, centerY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // 繪製Y軸刻度和標籤
            ctx.fillStyle = '#2c3e50';
            ctx.font = '12px Microsoft JhengHei';
            ctx.textAlign = 'right';
            ctx.textBaseline = 'middle';
            
            // 電壓刻度（每30像素 = 40V）
            const voltageStep = 40; // 每格40V
            const pixelStep = 30;   // 每格30像素
            
            for (let i = -4; i <= 4; i++) {
                const voltage = i * voltageStep;
                const y = centerY - (i * pixelStep);
                
                if (y >= 20 && y <= canvas.height - bottomMargin) {
                    // 刻度線
                    ctx.strokeStyle = '#666';
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(leftMargin - 5, y);
                    ctx.lineTo(leftMargin + 5, y);
                    ctx.stroke();
                    
                    // 數值標籤
                    ctx.fillText(voltage + 'V', leftMargin - 10, y);
                }
            }
            
            // 繪製X軸刻度和標籤（時間）
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            
            const totalWidth = canvas.width - leftMargin - 20;
            const timeStep = 0.2; // 每格0.2秒
            const numSteps = 10; // 總共10格，涵蓋2秒
            
            for (let i = 0; i <= numSteps; i++) {
                const x = leftMargin + i * (totalWidth / numSteps);
                const timeValue = (i * timeStep).toFixed(1);
                
                if (x <= canvas.width - 20) {
                    // 刻度線
                    ctx.strokeStyle = '#666';
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(x, canvas.height - bottomMargin - 5);
                    ctx.lineTo(x, canvas.height - bottomMargin + 5);
                    ctx.stroke();
                    
                    // 時間標籤
                    ctx.fillText(timeValue + 's', x, canvas.height - bottomMargin + 8);
                }
            }
            
            // 軸標籤
            ctx.font = 'bold 14px Microsoft JhengHei';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // Y軸標籤（垂直文字）
            ctx.save();
            ctx.translate(15, canvas.height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('電壓 (V)', 0, 0);
            ctx.restore();
            
            // X軸標籤
            ctx.fillText('時間 (s)', canvas.width / 2, canvas.height - 5);
            
            // 繪製波形
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let x = leftMargin; x < canvas.width - 20; x++) {
                const normalizedAmplitude = (amplitude / maxAmplitude) * (centerY - 40);
                const y = centerY + normalizedAmplitude * Math.sin((x - leftMargin) * 0.02 * frequency + time);
                
                if (x === leftMargin) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // 繪製振幅指示線
            const normalizedAmplitude = (amplitude / maxAmplitude) * (centerY - 40);
            
            // 上振幅線
            ctx.strokeStyle = '#27ae60';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(leftMargin + 20, centerY - normalizedAmplitude);
            ctx.lineTo(canvas.width - 40, centerY - normalizedAmplitude);
            ctx.stroke();
            
            // 下振幅線
            ctx.beginPath();
            ctx.moveTo(leftMargin + 20, centerY + normalizedAmplitude);
            ctx.lineTo(canvas.width - 40, centerY + normalizedAmplitude);
            ctx.stroke();
            
            // 振幅箭頭
            ctx.setLineDash([]);
            ctx.strokeStyle = '#27ae60';
            ctx.fillStyle = '#27ae60';
            ctx.lineWidth = 2;
            
            // 左側振幅指示箭頭
            const arrowX = leftMargin + 40;
            ctx.beginPath();
            ctx.moveTo(arrowX, centerY);
            ctx.lineTo(arrowX, centerY - normalizedAmplitude);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(arrowX, centerY + normalizedAmplitude);
            ctx.lineTo(arrowX, centerY);
            ctx.stroke();
            
            // 箭頭頭部
            ctx.beginPath();
            ctx.moveTo(arrowX - 5, centerY - normalizedAmplitude + 10);
            ctx.lineTo(arrowX, centerY - normalizedAmplitude);
            ctx.lineTo(arrowX + 5, centerY - normalizedAmplitude + 10);
            ctx.fill();
            
            ctx.beginPath();
            ctx.moveTo(arrowX - 5, centerY + normalizedAmplitude - 10);
            ctx.lineTo(arrowX, centerY + normalizedAmplitude);
            ctx.lineTo(arrowX + 5, centerY + normalizedAmplitude - 10);
            ctx.fill();
            
            // 振幅標籤
            ctx.fillStyle = '#27ae60';
            ctx.font = 'bold 16px Microsoft JhengHei';
            ctx.textAlign = 'left';
            ctx.textBaseline = 'middle';
            ctx.fillText(`振幅 = ${amplitude}V`, arrowX + 15, centerY - normalizedAmplitude/2);
            
            // 波峰和波谷標籤
            ctx.fillStyle = '#e74c3c';
            ctx.font = '12px Microsoft JhengHei';
            ctx.textAlign = 'center';
            ctx.fillText('波峰 (+)', canvas.width/2, centerY - normalizedAmplitude - 15);
            ctx.fillText('波谷 (-)', canvas.width/2, centerY + normalizedAmplitude + 20);
            
            time += isAnimating ? 0.05 : 0;
            animationFrame = requestAnimationFrame(drawWave);
        }
        
        function updateValues() {
            const amplitude = amplitudeSlider.value;
            const frequency = frequencySlider.value;
            
            amplitudeValue.textContent = amplitude + 'V';
            frequencyValue.textContent = frequency + ' Hz';
            currentAmplitude.textContent = amplitude;
        }
        
        function toggleAnimation() {
            isAnimating = !isAnimating;
            animationToggle.textContent = isAnimating ? '⏸️ 暫停' : '▶️ 播放';
            animationToggle.style.background = isAnimating ? '#3498db' : '#27ae60';
        }
        
        amplitudeSlider.addEventListener('input', updateValues);
        frequencySlider.addEventListener('input', updateValues);
        animationToggle.addEventListener('click', toggleAnimation);
        
        // 初始化
        updateValues();
        drawWave();
    </script>
</body>
</html>